<main>
    <button type='button' (click)='clickMe()'>Click me</button>
    <button type='button' (click)='closeStatistics()'>Close</button>

    <mat-table [dataSource]='ownerAppartStatistics()' class='userTable'>

        <ng-container matColumnDef='Appartement'>
            <mat-header-cell *matHeaderCellDef class='header-cell'> <p>Appartement</p></mat-header-cell>
            <mat-cell *matCellDef='let row' class='cell-center'> <p>{{row.appartmentName}}</p></mat-cell>
            <mat-footer-cell *matFooterCellDef class='footer-cell'> <p>Total</p></mat-footer-cell>
          </ng-container>

        @for (month of months; track $index) {

            <ng-container [matColumnDef]='month'>
                <mat-header-cell *matHeaderCellDef class='header-cell'> <p>{{month}} </p></mat-header-cell>
                <mat-cell *matCellDef='let row' class='cell-center'> <p>{{getMonthlyEarns(row, $index)}} </p></mat-cell>
                <mat-footer-cell *matFooterCellDef class='footer-cell'> <p>{{getMonthlyTotal($index)}}</p></mat-footer-cell>
              </ng-container>
        }


          <ng-container matColumnDef='Total'>
            <mat-header-cell *matHeaderCellDef class='header-cell'> <p>Total annuel</p></mat-header-cell>
            <mat-cell *matCellDef='let row' class='cell-center'> <p>{{getYearTotal(row)}}</p></mat-cell>
            <mat-footer-cell *matFooterCellDef class='footer-cell'> <p>{{getYearTotalForAll()}}</p></mat-footer-cell>
          </ng-container>
    
    
    
          <!-- Header and Row Declarations -->
      <mat-header-row *matHeaderRowDef="['Appartement', 'Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Aout', 'Septembre', 'Octobre', 'Novembre', 'Décembre', 'Total']"></mat-header-row>
      <mat-row *matRowDef="let row; columns: ['Appartement', 'Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Aout', 'Septembre', 'Octobre', 'Novembre', 'Décembre', 'Total']"></mat-row>
      <mat-footer-row *matFooterRowDef="['Appartement', 'Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin', 'Juillet', 'Aout', 'Septembre', 'Octobre', 'Novembre', 'Décembre', 'Total']"></mat-footer-row>
    </mat-table>    

</main>