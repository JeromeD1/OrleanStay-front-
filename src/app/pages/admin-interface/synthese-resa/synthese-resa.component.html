<main>
    <mat-accordion>
        <mat-expansion-panel [expanded]="true">
            <mat-expansion-panel-header>
                <mat-panel-title> Afficher les filtres </mat-panel-title>
            </mat-expansion-panel-header>
            <app-form-recherche-reservation
            [appartments]="allAppartments()"
            [owners]="currentUser()?.role === 'ADMIN' ? owners() : null"
            (researchEmitter)="updateReservations($event)"
            ></app-form-recherche-reservation>
        </mat-expansion-panel>
    </mat-accordion>

    <div class="paginator-container">
        <mat-paginator
            [pageSizeOptions]="[5, 1, 10]"
            showFirstLastButtons="false"
            >
            </mat-paginator>
        <div class="mat-elevation-z8 resa-container">
            <table mat-table [dataSource]="dataSource" class="mat-table">
                <ng-container matColumnDef="resa">
                    <td mat-cell *matCellDef="let item">
                        <app-historique-reservation-card
                        [reservation]="item"
                        [appartment]="findReservationAppartment(item.appartmentId!)"
                        ></app-historique-reservation-card>
                    </td>
                </ng-container>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
        </div>
        
            
    </div>
</main>

